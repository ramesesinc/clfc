import com.rameses.annotations.*;
import com.rameses.common.*;
import com.rameses.services.extended.*;

class LoanAppService 
{	
	@ActiveDB(value='loanapp')
	def loanapp;

	@ProxyMethod(local=true) 
	public def getEm() { return loanapp; } 	

	@ProxyMethod 
	public def open( params ) {
		def data = loanapp.findByObjid(params); 
		if (!data) throw new Exception('\''+params.objid+'\' loan application record not found');

		return data;
	}

	@ProxyMethod 
	public def update( params ) {
		loanapp.update(params);
		loanapp.update(params, 'route')
		return params;
	} 

	@ProxyMethod(local=true) 
	public void updatePrincipalBorrower(borrower) { 
		
	}
}
